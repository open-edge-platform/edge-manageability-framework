# SPDX-FileCopyrightText: 2025 Intel Corporation
#
# SPDX-License-Identifier: Apache-2.0

# Includes Edge Infrastructure Manager and UI
# Use either this or enable-full

# This enables Modular Vpro Edge Infrastructure Manager to support 100 edge nodes.

argo:
  enabled:
    infra-core: true
    infra-managers: true
    infra-external: true
    infra-onboarding: true
    web-ui-infra: false
    copy-keycloak-admin-to-infra: true
  infra-core:
    import:
      tenant-controller:
        enabled: true
      exporter:
        enabled: false
      tenant-config:
        enabled: false
    credentials:
      enabled: true
    api:
      enabled: false
    apiv2:
      enabled: true
      scenario: vpro
      resources:
        requests:
          memory: "16Mi"
          cpu: "10m"
        limits:
          memory: "64Gi"
          cpu: "64"
    inventory:
      enabled: true
      resources:
        requests:
          memory: "16Mi"
          cpu: "10m"
        limits:
          memory: "64Gi"
          cpu: "64"
    tenant-controller:
      enabled: true
      skipOSProvisioning: true
      resources:
        requests:
          memory: "16Mi"
          cpu: "10m"
        limits:
          memory: "64Gi"
          cpu: "64"
  infra-managers:
    host-manager:
      enabled: true
      resources:
        requests:
          memory: "16Mi"
          cpu: "10m"
        limits:
          memory: "64Gi"
          cpu: "64"
    maintenance-manager:
      enabled: false
    telemetry-manager:
      enabled: false
    os-resource-manager:
      enabled: false
    networking-manager:
      enabled: false
    attestationstatus-manager:
      enabled: false
  infra-onboarding:
    import:
      dkam:
        enabled: true
      tinkerbell:
        enabled: false
      onboarding-manager:
        enabled: true
      pxe-server:
        enabled: false
    tinkerbell:
      enabled: false
    pxe-server:
      enabled: false
    infra-config:
      enabled: true
      skipOSProvisioning: true
    onboarding-manager:
      enabled: true
      resources:
        requests:
          memory: "16Mi"
          cpu: "10m"
        limits:
          memory: "64Gi"
          cpu: "64"
    dkam:
      enabled: true
      resources:
        requests:
          memory: "16Mi"
          cpu: "10m"
        limits:
          memory: "64Gi"
          cpu: "64"
  infra-external:
    import:
      amt:
        enabled: true
    amt:
      mps:
        enabled: true
        resources:
          requests:
            memory: "16Mi"
            cpu: "10m"
          limits:
            memory: "64Gi"
            cpu: "64"
      rps:
        enabled: true
        resources:
          requests:
            memory: "16Mi"
            cpu: "10m"
          limits:
            memory: "64Gi"
            cpu: "64"
      dm-manager:
        enabled: true
        resources:
          requests:
            memory: "16Mi"
            cpu: "10m"
          limits:
            memory: "64Gi"
            cpu: "64"
