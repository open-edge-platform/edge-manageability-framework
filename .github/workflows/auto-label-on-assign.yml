name: Auto Label on Issue Assignment

on:
  issues:
    types: [assigned]

permissions:
  issues: write

jobs:
  add-label:
    runs-on: ubuntu-latest

    steps:
      - name: Add label when issue is assigned
        uses: actions/github-script@v7
        with:
          script: |
            const issue = context.issue;

            // Define your desired label
            const labelToAdd = "Investigating";

            console.log(`Adding label "${labelToAdd}" to issue #${issue.number}`);

            await github.rest.issues.addLabels( { ...issue,               labels: [labelToAdd],             });
